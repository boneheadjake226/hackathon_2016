<h1>Main#arcgis_test</h1>
<p>Find me in app/views/main/arcgis_test.html.erb</p>

<script>
  require([
    "esri/Map",
    "esri/views/MapView",
    "dojo/domReady!"
  ], function(
    Map,
    MapView
  ) {

    // Create the Map with an initial basemap
    var map = new Map({
      basemap: "topo"
    });

    // Create the MapView and reference the Map in the instance
    var view = new MapView({
      container: "viewDiv",
      map: map,
      center: [-86.049, 38.485],
      zoom: 3
    });

  });

  // 1 - Create the widget
  var toggle = new BasemapToggle({
    // 2 - Set properties
    view: view, // view that provides access to the map's 'topo' basemap
    nextBasemap: "hybrid" // allows for toggling to the 'hybrid' basemap
  });

  toggle.startup(); // 3 - Call startup on the widget
</script>

<div id="map"></div>